<!-- # 3. Node.js 와 Express로 로그인 기능이 없는 나만의 백엔드 서버 만들기

> 게시글은 {\_id, user, password, title, content, createdAt} 이라는 키값을 가집니다.

## 게시글 생성 :

-   body란에 {user, password, title, content}를 작성해 주시면 됩니다.
-   body의 4개 key들은 각 각 schema에서 required는 true값을 가집니다.
-   createdAt 은 현재시간을 반영해 자동으로 데이터가 저장됩니다.
-   \_id 값은 몽고db에서 자동으로 저장해줍니다.

## 게시글 생성 오류메시지 :

-   **res.status(400)** : 각 key값들의 value가 하나라도 빈 문자열이라면, "데이터 형식이 올바르지 않습니다"라는 메시지가 출력됩니다.

-   (현재 기능 구현 후 서버 접속 종료가 되는 오류 수정 중)

## 게시글 조회 :

<http://13.125.59.49:3050/api/posts> 로 들어가면 해당 URI의 데이터 베이스에 저장된 데이터의 값이 시간내림차순으로 정렬되어있습니다.

## 게시글 상세 조회 :

<http://13.125.59.49:3050/api/posts/:> { 조회하고 싶은 '게시글'에 해당하는 \_id값을 넣어줍니다.}

-   예시 \_id : 648be0b09b723ea90071d228

## 게시글 상세 조회 오류 메시지 :

-   **res.status(400)** : req.params에 해당하는 \_id값을 vlaue로 가지는 게시글이 없다면, "데이터 형식이 올바르지 않습니다"라는 메시지가 출력됩니다.

## 게시글 수정 :

<http://13.125.59.49:3050/api/posts/:> { 수정하고자 하는 '게시글'에 해당하는 \_id값을 넣어줍니다.}

-   수정은 req.params에 입력하신 \_id값을 가지는 게시글의 password와 body에 작성하는 password의 값이 동일할때에만 수정기능이 실행됩니다.

-   {user,title,content} 값을 body에 작성한 내용대로 수정이 가능합니다.

## 게시글 수정 오류 메시지 :

-   **res.status(400)** : user,password,title,content의 값중 하나라도 빈 문자열이 생기거나, password가 일치하지 않다면,
    "데이터 형식이 올바르지 않습니다"라는 메시지가 출력됩니다.

-   **res.status(404)** : URI의 \_id값이 올바르지 못하다면 "해당 게시글이 존재하지 않습니다"라는 메시지가 출력됩니다.

## 게시글 삭제 :

<http://13.125.59.49:3050/api/posts/:> { 삭제하고자 하는 '게시글'에 해당하는 \_id값을 넣어줍니다.}

-   body에는 password값만 들어갑니다. URI의 \_id값이 가지는 password와 body의 password가 일치해야 삭제로직이 실행됩니다.

## 게시글 삭제 오류 메시지 :

-   res.status(400) : password값이 일치하지 않다면, "데이터 형식이 올바르지 않습니다"라는 메시지가 출력됩니다.

-   res.status(404) : \_id값에 해당하는 게시글이 없는경우 "해당 게시글이 존재하지 않습니다"라는 메시지가 출력됩니다.

    -   (현재 try~catch 구문에서 catch에 오류가 잡히지 않는 오류 수정 중)

===========

> 댓글은 {postId,user,password,content,createdAt} 값을 가집니다.

## 댓글 생성 :

<http://13.125.59.49:3050/api/comments/:> { 댓글을 달고자 하는 '게시글'에 해당하는 \_id값을 넣어줍니다.}

-   body에 {user, password, content}값을 작성합니다.

## 댓글 생성 오류 메시지 :

-   res.status(400) : password가 URI에 입력하신 \_id 값이가지는 게시글의 password와 다르면, '데이터 형식이 올바르지 않습니다.' 출력.

-   res.status(400) : content의 value값이 ""빈 문자열일 경우 '댓글 내용을 입력해 주세요.' 출력.

## 댓글 조회 :

<http://13.125.59.49:3050/api/comments/:> { 조회하려는 댓글을 가진, '게시글'에 해당하는 \_id값을 넣어줍니다.}

-   현재 댓글 조회 및 오류 메시지 출력 기능 점검중

## 댓글 조회 오류 메시지 :

-   res.status(400) : 조회하고자 하는 게시글의 \_id 값이 잘못되었다면, '데이터 형식이 올바르지 않습니다.' 출력.

    -   (현재 댓글 조회 및 오류 메시지 출력 기능 점검중)

## 댓글 수정 :

<http://13.125.59.49:3050/api/comments/:> { 수정을 원하는 '댓글'에 해당하는 \_id값을 넣어줍니다.}

-   (현재 댓글 수정 및 오류 메시지 출력 기능 점검중)

-   기능 구현은 되지만, 발생하는 오류에 맞는 정확한 메시지 값이 출력이 안됨.

## 댓글 삭제 :

<http://13.125.59.49:3050/api/comments/:> { 삭제를 원하는 '댓글'에 해당하는 \_id값을 넣어줍니다.}

-   URI의 \_id 값을 가지는 댓글의 패스워드와, body에 작성하는 패스워드의 값이 같아야 삭제 로직 실행.

## 댓글 삭제 오류 메시지 :

-   **res.status(400)** : 바디의 패스워드가 삭제를 원하는 댓글의 패스워드와 다를경우, '데이터 형식이 올바르지 않습니다.' 출력. -->
